<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default3}">
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="contentsTitle">
	<h2>실시간 날씨 정보 업데이트</h2>
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="#">Home</a></li>
			<li class="breadcrumb-item active" aria-current="page">지역별 날씨 정보
				검색</li>
		</ol>
	</nav>
</th:block>
<th:block layout:fragment="customContents">

	<!-- 날씨 정보 card 스타일 시트 시작 -->
	<style>
.card0 {
	width: 94%
}

.card1 {
	background-image: linear-gradient(#2196F3, #81D4FA);
	padding: 30px 20px 30px 50px
}

.image {
	width: 300px;
	height: 300px
}

.large-font {
	font-size: 70px;
	font-family: Arial
}

.fa-sun-o {
	font-size: 22px
}

.card2 {
	background-color: #607D8B;
	padding: 0px 0px 40px 40px
}

.card input {
	background-color: #607D8B;
	padding: 24px 0px 12px 0px !important;
	width: 80%;
	box-sizing: border-box;
	border: none !important;
	border-bottom: 1px solid #CFD8DC !important;
	font-size: 16px !important;
	color: #fff !important
}

input:focus {
	-moz-box-shadow: none !important;
	-webkit-box-shadow: none !important;
	box-shadow: none !important;
	border-bottom: 1px solid #fff !important;
	outline-width: 0;
	font-weight: 400
}

::placeholder {
	color: #B0BEC5 !important;
	opacity: 1
}

:-ms-input-placeholder {
	color: #B0BEC5 !important
}

::-ms-input-placeholder {
	color: #B0BEC5 !important
}

.fa-search {
	color: #607D8B;
	background-color: #E1F5FE;
	font-size: 20px;
	padding: 20px;
	width: 20%;
	cursor: pointer
}

.light-text {
	color: #B0BEC5
}

.suggestion:hover {
	color: #fff;
	cursor: pointer
}

.line {
	height: 1px;
	background-color: #B0BEC5
}

@media screen and (max-width: 500px) {
	.card1 {
		padding-left: 26px
	}
}

.weather_area {
	position: relative;
	text-align: center;
}

.weather_now {
	font-family: "SF UI Display", -apple-system, BlinkMacSystemFont,
		HelveticaNeue, Helvetica, Roboto, NotosansKR, Arial,
		AppleSDGothicNeo-Regular, "Malgun Gothic", 맑은고딕, Dotum, 돋움, sans-serif;
	font-size: 14px;
	line-height: 1.25em;
	-webkit-text-size-adjust: none;
	text-align: center;
	padding: 20px 0 20px;
	overflow: hidden;
	margin: 0 -38px;
	display: inline-block;
	vertical-align: top;
	padding-top: 30px;
}

.summary_img {
	font-family: "SF UI Display", -apple-system, BlinkMacSystemFont,
		HelveticaNeue, Helvetica, Roboto, NotosansKR, Arial,
		AppleSDGothicNeo-Regular, "Malgun Gothic", 맑은고딕, Dotum, 돋움, sans-serif;
	font-size: 14px;
	line-height: 1.25em;
	-webkit-text-size-adjust: none;
	margin: 0;
	padding: 0;
	position: relative;
	float: left;
	vertical-align: top;
}

.ico_animation {
	background-image:
		url(https://ssl.pstatic.net/static/weather/image/icon_weather/ico_animation_wt1.svg);
	width: 70px;
	height: 70px;
	display: inline-block;
	vertical-align: top;
	background-size: 70px 70px;
}

.current {
	font-family: "SF UI Display", -apple-system, BlinkMacSystemFont,
		HelveticaNeue, Helvetica, Roboto, NotosansKR, Arial,
		AppleSDGothicNeo-Regular, "Malgun Gothic", 맑은고딕, Dotum, 돋움, sans-serif;
	-webkit-text-size-adjust: none;
	display: inline-block;
	vertical-align: top;
	margin-left: -20px;
	font-size: 65px;
	line-height: 72px;
	letter-spacing: -2px;
	color: #000;
	font-weight: 500;
	white-space: nowrap;
	z-index: 10;
}

.degree {
	font-family: "SF UI Display", -apple-system, BlinkMacSystemFont,
		HelveticaNeue, Helvetica, Roboto, NotosansKR, Arial,
		AppleSDGothicNeo-Regular, "Malgun Gothic", 맑은고딕, Dotum, 돋움, sans-serif;
	-webkit-text-size-adjust: none;
	color: #000;
	white-space: nowrap;
	display: inline-block;
	vertical-align: top;
	margin-top: 6px;
	font-size: 35px;
	font-weight: 700;
	line-height: 40px;
	letter-spacing: -.82px;
}

.summary {
	float: left;
	margin: 12px 0 0 8px;
	font-size: 20px;
	font-weight: 600;
	line-height: 26px;
	letter-spacing: -1px;
	text-align: left;
}

.weather {
	display: block;
}

.weather_quick_inner {
	font-family: "SF UI Display", -apple-system, BlinkMacSystemFont,
		HelveticaNeue, Helvetica, Roboto, NotosansKR, Arial,
		AppleSDGothicNeo-Regular, "Malgun Gothic", 맑은고딕, Dotum, 돋움, sans-serif;
	font-size: 15px;
	line-height: 1.25em;
	-webkit-text-size-adjust: none;
	white-space: nowrap;
	text-align: center;
	padding-left: 41px;
	padding-bottom: 20px;
}

.weather_table {
	border-collapse: collapse;
	display: inline-block;
	vertical-align: top;
	text-align: left;
}

.weather_table td {
	padding-right: 25px;
}

.weather_table dt {
	line-height: 18px;
	letter-spacing: -.3px;
	display: inline-block;
	vertical-align: top;
	color: #888;
}

.weather_table dd {
	display: inline-block;
	font-weight: bold;
}
.weather_calender{padding-bottom:30px;}
.calendar_table { width: 100%;}
.calendar_table thead {
	-webkit-text-size-adjust: none;
	font-family: "SF UI Display", -apple-system, BlinkMacSystemFont,
		HelveticaNeue, Helvetica, Roboto, NotosansKR, Arial,
		AppleSDGothicNeo-Regular, "Malgun Gothic", 맑은고딕, Dotum, 돋움, sans-serif;
	font-size: 14px;
	line-height: 1.25em;
	border-collapse: collapse;
	text-align: center;
}

.calendar_table tr {
	border-collapse: collapse;
	font-size: 15px;
	font-weight: 400;
	line-height: 26px;
	letter-spacing: -.25px;
	width: 14.2857%;
}

.calendar_table td {
	font-size: 14px;
	line-height: 1.25em;
	border-collapse: collapse;
	padding: 12px 0 15px;
}

.calendar_table .temperature {
	text-align: center;
	display: block;
	font-weight: 400;
	line-height: 22px;
}

.calendar_table .lowest {
	color: #729def;
	display: inline-block;
	font-size: 15px;
	font-weight: 700;
	letter-spacing: -.25px;
	vertical-align: top;
	margin-top: 0;
}

.calendar_table .bar {
	color: #dbdbdb;
}

.calendar_table .highest {
	color: #dc6163;
	display: inline-block;
	font-size: 15px;
	font-weight: 700;
	letter-spacing: -.3px;
	vertical-align: top;
	margin-top: 1px;
}
.icon_calendar{
	-webkit-text-size-adjust: none;
	font-family: "SF UI Display", -apple-system, BlinkMacSystemFont,
		HelveticaNeue, Helvetica, Roboto, NotosansKR, Arial,
		AppleSDGothicNeo-Regular, "Malgun Gothic", 맑은고딕, Dotum, 돋움, sans-serif;
	font-size: 14px;
	line-height: 1.25em;
	border-collapse: collapse;
	text-align: center;
	background-repeat: no-repeat;
	width: 34px;
	height: 34px;
	background-size: 238px 204.34px;
	display: block;
	margin: 5px auto 0;
}
.ico_wt17 {
	color: #ff2c2c;
	background-image:
		url(https://ssl.pstatic.net/static/weather/image/sp_icon_weather_35d9613d.png);
	background-position: 16.66667% 40.11976%;
}

.ico_wt3 {
	background-image:
		url(https://ssl.pstatic.net/static/weather/image/sp_icon_weather_35d9613d.png);
	background-position: 83.33333% 39.92016%;
}

.ico_wt1 {
	background-image:
		url(https://ssl.pstatic.net/static/weather/image/sp_icon_weather_35d9613d.png);
	background-position: 16.66667% 0;
}

.ico_wt9 {
	background-image:
		url(https://ssl.pstatic.net/static/weather/image/sp_icon_weather_35d9613d.png);
	background-position: 83.33333% 100%;
}
</style>
	<!-- 날씨 정보 card 스타일 시트 종료 -->

	<!-- 메인 콘텐츠 시작 -->
	<div class="card">
		<div class="card-body">
			<div class="weather_area">
				<div class="weather_now">
					<div class="summary_img">
						<i class="ico_animation _cnLazy ico_animation_wt1"
							data-ico="ico_animation_wt1" data-ymdt="2022040316"></i> <strong
							class="current ">16<span class="degree">°</span></strong>
					</div>
					<p class="summary">
						<span class="weather">맑음</span> <em>어제보다</em> <span>6° ↑</span>
					</p>
				</div>
			</div>
			<div class="weather_quick_inner">
				<table class="weather_table">
					<tbody>
						<tr>
							<td>
								<dl>
									<dt>강수확률</dt>
									<dd class="desc">-</dd>
								</dl>
							</td>
							<td>
								<dl>
									<dt>체감</dt>
									<dd>16°</dd>
								</dl>
							</td>
							<td>
								<dl>
									<dt>미세</dt>
									<dd class="level4_1">좋음</dd>
								</dl>
							</td>
							<td>
								<dl>
									<dt>일몰</dt>
									<dd>18:54</dd>
								</dl>
							</td>
						</tr>
						<tr class="second">
							<td>
								<dl>
									<dt>서풍</dt>
									<dd>2m/s</dd>
								</dl>
							</td>
							<td>
								<dl>
									<dt>습도</dt>
									<dd>25%</dd>
								</dl>
							</td>
							<td>
								<dl>
									<dt>초미세</dt>
									<dd class="level4_1">좋음</dd>
								</dl>
							</td>
							<td>
								<dl>
									<dt>자외선</dt>
									<dd class="level5_none">-</dd>
								</dl>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="weather_calender">
				<table class="calendar_table">
					<thead>
						<tr>
							<th scope="col">일</th>
							<th scope="col">월</th>
							<th scope="col">화</th>
							<th scope="col">수</th>
							<th scope="col">목</th>
							<th scope="col">금</th>
							<th scope="col">토</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><span class="icon_calendar ico_wt17"></span> <strong
								class="temperature"> <span class="lowest">3°</span> <span
									class="bar">/</span> <span class="highest">18°</span>
							</strong></td>
							<td><span class="icon_calendar ico_wt3"></span> <strong
								class="temperature"> <span class="lowest">3°</span> <span
									class="bar">/</span> <span class="highest">18°</span>
							</strong></td>
							<td><span class="icon_calendar ico_wt1"></span> <strong
								class="temperature"> <span class="lowest">3°</span> <span
									class="bar">/</span> <span class="highest">18°</span>
							</strong></td>
							<td><span class="icon_calendar ico_wt3"></span> <strong
								class="temperature"> <span class="lowest">3°</span> <span
									class="bar">/</span> <span class="highest">18°</span>
							</strong></td>
							<td><span class="icon_calendar ico_wt17"></span> <strong
								class="temperature"> <span class="lowest">4°</span> <span
									class="bar">/</span> <span class="highest">16°</span>
							</strong></td>
							<td><span class="icon_calendar ico_wt17"></span> <strong
								class="temperature"> <span class="lowest">1°</span> <span
									class="bar">/</span> <span class="highest">12°</span>
							</strong></td>
							<td><span class="icon_calendar ico_wt3"></span> <strong
								class="temperature"> <span class="lowest">3°</span> <span
									class="bar">/</span> <span class="highest">18°</span>
							</strong></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<!-- 메인 콘텐츠 종료 -->


</th:block>
<th:block layout:fragment="customBodyScript">

	<!-- 날씨 정보 업데이트 자바스크립트 시작 -->
	<script type="text/javascript">
		/* var imgURL = "http://openweathermap.org/img/w/" + resp.weather[0].icon + ".png";
		 $(".fa whether").attr("src", imgURL); */

		var apiURI = "http://api.openweathermap.org/data/2.5/weather?q=jeonju&appid=aff28fafca14a465fb79be67dc3df923";
		var loaded = false;

		$(document)
				.ready(
						function() {
							if (loaded) {
								return;
							}
							;
							$.ajax({
								url : apiURI,
								dataType : "json",
								type : "GET",
								async : "false",
								success : function(resp) {
									resultHtml(resp);
								}
							});
							loaded = true;

							$('#searchCT')
									.click(
											function() {

												apiURI = "http://api.openweathermap.org/data/2.5/weather?q="
														+ $("#cityName").val()
														+ "&appid=aff28fafca14a465fb79be67dc3df923";
												$.ajax({
													url : apiURI,
													dataType : "json",
													type : "GET",
													async : "false",
													success : function(resp) {
														resultHtml(resp);
													}
												});
											});
						});
		function resultHtml(resp) {

			var html2 = ""
			html2 += "<div class='row px-3'> <p class='light-text'>구름</p>  <p class='ml-auto'>"
					+ (resp.clouds.all) + "%" + "</p> </div>"
			html2 += "<div class='row px-3'> <p class='light-text'>현재 습도 </p>  <p class='ml-auto'>"
					+ resp.main.humidity + "%" + "</p> </div>"
			html2 += "<div class='row px-3'> <p class='light-text'>바람</p>  <p class='ml-auto'>"
					+ resp.wind.speed + "km/h" + "</p> </div>"
			html2 += "<div class='row px-3'> <p class='light-text'>나라</p>  <p class='ml-auto'>"
					+ resp.sys.country + "</p> </div>"
			html2 += "<div class='row px-3'> <p class='light-text'>날씨 </p>  <p class='ml-auto'>"
					+ resp.weather[0].main + "</p> </div>"
			html2 += "<div class='row px-3'> <p class='light-text'>날씨 상세</p>  <p class='ml-auto'>"
					+ resp.weather[0].description + "</p> </div>"
			console.log("html2");
			$("#whetherData2").empty();
			$("#whetherData2").append(html2);

			var html3 = ""
			html3 += "<h1 class='large-font mr-3'>"
					+ Math.round(resp.main.temp * 10 - 2731.5) / 10 + "&#176"
					+ ";</h1>"
			html3 += "<div class='d-flex flex-column mr-3'> <h2 class='mt-3 mb-0'>"
					+ resp.name + "</h2></div>"
			html3 += "<div class='d-flex flex-column text-center'> <small>"
					+ resp.weather[0].main + "</small> </div>"
			console.log("html3");
			$("#whetherData1").empty();
			$("#whetherData1").append(html3);
		};
	</script>
	<!-- 날씨 정보 업데이트 자바스크립트 종료 -->

	<!-- PRISM -->
	<script th:src="@{/js/prism/prism.js}"></script>
	<!-- custom -->
	<script th:src="@{/js/custom.js}"></script>
</th:block>
</html>