<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default2}">
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="contentsTitle">
	<div class="row">
		<div class="col-12">
			<h2>공유 게시판 리스트(관리자)</h2>
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="#">Home</a></li>
					<li class="breadcrumb-item active" aria-current="page">여행 일정
						공유</li>
				</ol>
			</nav>
		</div>
	</div>
</th:block>
<th:block layout:fragment="customContents">
	<div id='calendar'></div>




</th:block>
<th:block layout:fragment="customBodyScript">
	<script>
document.addEventListener('DOMContentLoaded', function() { var calendarEl = document.getElementById('calendar'); // new FullCalendar.Calendar(대상 DOM객체, {속성:속성값, 속성2:속성값2..}) 



var calendar = new FullCalendar.Calendar(calendarEl, { headerToolbar: { left: 'prev,next today', center: 'title', right: 'dayGridMonth,timeGridWeek,timeGridDay' }, 
	initialDate: '2021-04-12', // 초기 로딩 날짜. 
	navLinks: true, // can click day/week names to navigate views 
	selectable: true, selectMirror: true, // 이벤트명 : function(){} : 각 날짜에 대한 이벤트를 통해 처리할 내용.. 
	select: function(arg) 
	{ console.log(arg); 
	var title = prompt('입력할 일정:'); // title 값이 있을때, 화면에 calendar.addEvent() json형식으로 일정을 추가 
	if (title) { calendar.addEvent({ title: title, start: arg.start, end: arg.end, allDay: arg.allDay, backgroundColor:"
		yellow", textColor:"blue" }) } 
	calendar.unselect() 
	}, 
	eventClick: function(arg) { // 있는 일정 클릭시, 
		console.log("#등록된 일정클릭#"); 
		console.log(arg.event); 
		
		if (confirm('Are you sure you want to delete this event?')) {
			arg.event.remove()
			}
		},
		editable:true, 
		dayMaxEvents: true, // allow "more" link when too many events
		events: function(info, successCallback, failureCallback){ // ajax 처리로 데이터를 로딩 시킨다. 
			$.ajax({ 
				type:"get", 
				url:"${path}/calendar.do?method=data", 
						dataType:"json" 
						}); 
		} 
		}); 
		calendar.render(); });
</script>



</th:block>
</html>