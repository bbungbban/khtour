<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default3}">
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="contentsTitle">
	<style>
@import url(https://unpkg.com/@webpixels/css@1.1/dist/index.css);
/* 댓글 창 */
.postbgimg img {
	width: 100%;
	height: 274px;
}

.comment-avtar {
	padding-right: 2rem;
}

.children {
	padding-left: 8rem;
}

.btn-outline-danger:hover {
	background-color: #cb4946 !important;
}

/* 이미지 앨범 이동 */
.btn {
	border-radius: 5px;
	margin: 5px;
}

.blog-info {
	height: 200px;
}

.set-p {
	padding-left: 15px;
	padding-right: 15px
}

.fa-angle-left, .fa-angle-right {
	position: absolute;
	color: #757575;
	font-size: 80px;
	top: 50%;
	cursor: pointer
}

#left {
	left: 2%
}

#left:hover {
	color: #E0E0E0
}

#right {
	right: 2%
}

#right:hover {
	color: #E0E0E0
}

.image {
	object-fit: cover;
	width: 100%;
	height: 280px;
	display: none
}

.image.active {
	display: block
}

.rating {
	background-color: #3D5AFE;
	color: #fff;
	border-top-left-radius: 5px;
	border-top-right-radius: 5px;
	border-bottom-right-radius: 5px
}

.grade {
	font-size: 18px
}

.line {
	height: 1px;
	background-color: #E0E0E0
}

.text-sm {
	font-size: 14px
}
</style>
	<div class="row">
		<div class="col-12">
			<h2>포스트 상세 페이지</h2>
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a
						th:href="@{/traShare/traShareList}">여행일정 공유 게시판</a></li>
					<li class="breadcrumb-item active" aria-current="page">포스트 상세</li>
				</ol>
			</nav>
		</div>
	</div>
</th:block>

<th:block layout:fragment="customContents">
	<div class="row">
		<div class="postbgimg" style="opacity: 0.9;">
			<img th:src="@{/images/traShare/back2.jpg}" alt="...">
		</div>
	</div>

	<div class="row user-profile mb-4">
		<div class="col-12 col-md-4 col-lg-3">
			<!-- Component -->
			<div class="card">
				<div class="card-title"
					th:text="'작성자 아이디 : ' + ${recordBoard.memberId}"></div>
				<hr class="my-2">
				<div class="card-body">
					<div class="d-flex justify-content-center">
						<a href="#" class="avatar avatar-xl rounded-circle"> <img
							alt="..."
							src="https://images.unsplash.com/photo-1579463148228-138296ac3b98?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=3&w=256&h=256&q=80">
						</a>
					</div>
					<div class="text-center my-6">
						<!-- Title -->
						<a href="#" class="d-block h5 mb-0">닉네임</a>
						<!-- th:text="${recordBoardList.memberId.getMemberUserName()}" -->
						<!-- Subtitle -->
						<span class="d-block text-sm text-muted">이메일@company.com</span>
						<div style="text-align: center; padding: 10px">
							<button type="button" class="btn btn-outline-danger">팔로우</button>
						</div>
					</div>
					<!-- Stats -->

					<div class="d-flex">
						<div class="col-4 text-center">
							<i class="feather icon-image"></i><a href="#"
								class="h4 font-bolder mb-0">25</a> <span class="d-block text-sm">게시글
								수</span>
						</div>
						<div class="col-4 text-center">
							<i class="fa fa-heart-o"></i> <a href="#"
								class="h4 font-bolder mb-0">350</a> <span
								class="d-block text-sm">팔로잉</span>
						</div>
						<div class="col-4 text-center">
							<i class="fa fa-heart-o"></i> <a href="#"
								class="h4 font-bolder mb-0">1.5K</a> <span
								class="d-block text-sm">팔로워</span>
						</div>
					</div>
				</div>

			</div>
			<div class="card">
				<div class="card-title">
					<h3>Photo</h3>
				</div>
				<hr class="my-2">
				<div style="padding: 5px;">
					<div>
						<img id="first" class="image"
							th:src="@{https://i.imgur.com/3pcJdqF.jpg}"> <img
							class="image" th:src="@{https://i.imgur.com/zFRM6Ww.jpg}">
						<img class="image active"
							th:src="@{https://i.imgur.com/oDSYIAB.jpg}"> <img
							class="image" th:src="@{https://i.imgur.com/lfEnSRg.jpg}">
						<img id="last" class="image"
							th:src="@{https://i.imgur.com/gl9AZz0.jpg}">
					</div>
					<span class="fa fa-angle-left" id="left"></span> <span
						class="fa fa-angle-right" id="right"></span>
				</div>
			</div>
			<div class="card">
				<button type="button" class="btn btn-primary" data-toggle="modal"
					data-target=".bd-example-modal-lg">
					<i class="feather icon-plus"></i>피드 등록
				</button>
				<!-- 모달 시작 -->
				<div class="modal fade bd-example-modal-lg" tabindex="-1"
					role="dialog" aria-labelledby="exampleModalLabel"
					aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">
									<i class="feather icon-plus"></i> 상세정보 등록
								</h5>
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body p-5">
								<form id="addFeedForm"
									th:action="@{/recordBoard/feedList}" method="post"
									enctype="multipart/form-data">
									
									<input type="hidden" name="recordBoardCode" th:value="${param.recordBoardCode}" >
									
									<div class="form-group">
										<label for="feedTitle">피드 제목</label> <input
											type="text" class="form-control" name="feedTitle" placeholder="피드 제목을 입력해주세요.">
									</div>

									<div class="form-group">
										<label for="feedPlanDays">피드 일자</label> <input
											type="text" placeholder="피드 시간을 입력해주세요."
											class="form-control">
									</div>
									<div class="form-group">
										<label for="feedTime">피드 시간</label>
										<div class="input-group bootstrap-timepicker timepicker">
											<input id="timepicker1" type="text"
												class="form-control input-small" ><span
												class="input-group-prepend"><i class="fa fa-clock-o"></i></span>
										</div>
									</div>
									<div class="form-group">
										<label for="exampleFormControlSelect1">이미지선택</label>
										<div class="custom-file">
											<input type="file" class="custom-file-input" id="customFile">
											<label class="custom-file-label" for="customFile">이미지
												파일</label>
										</div>
									</div>
									<div class="form-group">
										<label for="feedContent">피드 내용</label>
										<textarea class="form-control" id="heritageDetail"
											name="feedContent" rows="3" required=""></textarea>
									</div>

									<button type="button" id="addFeedBtn"
										class="btn btn-primary">등록</button>
									<button type="button" class="btn btn-danger"
										data-dismiss="modal">취소</button>
								</form>
							</div>
						</div>
					</div>
				</div>
				<!-- 모달 끝 -->
			</div>
		</div>
		<div class="col-12 col-md-8 col-lg-9">
			<div class="card">
				<div class="card-title">
					<h3>게시글</h3>
				</div>
				<hr class="my-2">
				<div class="card-body">
					<h1 class="mb-8" th:text="${recordBoard.recordBoardName}"></h1>
					<p th:text="${recordBoard.content}"></p>
				</div>
				<div class="card-footer mb-4 pt-8">
					<hr class="my-2">
					<p class="pt-4"
						th:text="'여행 시작일 : ' + ${recordBoard.startDate} + ' | ' + '여행 종료일 : ' + ${recordBoard.endDate} + ' | ' + '여행 유형 : 나홀로 여행'"></p>
					<p
						th:text="'게시글 등록 날짜 : ' + ${recordBoard.regDate} + ' | ' + '조회수 : ' + ${recordBoard.views}"></p>
				</div>
			</div>


			<div class="card">
				<div class="card-title">
					<div class="card-title-left">
						<h4 class="card-title-text"
							th:text="${recordBoard.memberId} + ' 님의 피드'"></h4>
					</div>
				</div>
				<hr class="my-2">
				<div class="card-body">
					<ul class="timeline-left">
						<li th:if="${not #lists.isEmpty(feedList)}"
							th:each="f: ${feedList}">
							<div class="time">
								<span th:text="${f.feedTime}"></span> <span>등록날짜:
									2021-21-32</span>
							</div>
							<div class="icon bg-primary">
								<i class="zmdi zmdi-camera"></i>
							</div>
							<div class="info">
								<span>피드 소개 : </span>
								<h2 class="pt-3">해바라기 가득~</h2>

								<div class="embed-responsive embed-responsive-16by9">
									<img th:src="@{/images/traShare/여행이미지1.gif}"
										class="img-fluid embed-responsive-item" alt="...">
								</div>
								KOREA HERITAGETOUR (T)
								<div class="pt-3">
									<h5>해바라기 농장을 운영하시는 농장주의 넓은 아량 덕분에 이렇게 예쁜!</h5>
								</div>
								<div class="pt-3 row">
									<div class="col-2">
										<a href="javascript:doDisplay();"><i
											class="text-dark feather icon-message-circle"></i>댓글</a>
									</div>
									<div class="col-4">
										<a>수정</a> <a>삭제</a>
									</div>
									<div id="myDIV" style="display: none;">
										<div>
											<span>댓글을 남겨주세요.</span>
										</div>
										<textarea class="form-control" placeholder="댓글을 작성해 주세요."></textarea>
										<div class="pt-2 float-end">
											<button type="submit" class="btn btn-outline-danger"
												style="background: #ec5552; color: #fff;">등록</button>
										</div>
										<div class="pb-5 pt-5" style="opacity: 0.7;">댓글작성내용</div>
										<div class="comments-list">
											<ul class="list-inline">
												<li class="comments" style="overflow: hidden;">
													<div class="comment-avtar" style="float: left;">
														<div class="avatar avatar-xll">
															<img class="img-fluid" src="images/team/01.jpg" alt="">
														</div>
													</div>
													<div class="comment-info pb-3" style="float: left;">
														<h5>Airi Satou</h5>
														<span class="date">12 jan 2021</span>
														<p class="mt-2 mb-1">댓글 적는중</p>
														<a href="#!"> Replay <i
															class="feather icon-arrow-right"></i></a>
													</div>
												</li>
												<li class="comments children" style="overflow: hidden;">
													<div class="comment-avtar" style="float: left;">
														<div class="avatar avatar-xll">
															<img class="img-fluid" src="images/team/02.jpg" alt="">
														</div>
													</div>
													<div class="comment-info">
														<h5>Bruno Nash</h5>
														<span class="date">10 feb 2021</span>
														<p class="mt-2 mb-1">댓글 확실히 적는중</p>
														<a href="#!"> Replay <i
															class="feather icon-arrow-right"></i></a>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

</th:block>
<th:block layout:fragment="customBodyScript">
	<!-- custom -->
	<script th:src="@{/js/custom.js}"></script>
	<!-- PRISM -->
	<script th:src="@{/js/prism/prism.js}"></script>

	<!-- 댓글 보여주기 -->
	<script type="text/javascript">
		function doDisplay() {
			var con = document.getElementById("myDIV");
			if (con.style.display == 'block') {
				con.style.display = 'none';
			} else {
				con.style.display = 'block';
			}
		}
	</script>

	<!-- 이미지 왼쪽, 오른쪽 넘기는 버튼 생성 -->
	<script>
	$(document).ready(function(){

		$('#left').click(function(){
		var tmp = $(".active");
		$(tmp).removeClass("active");
		if($(tmp).is(':first-child')) {
		$("#last").addClass("active");
		}
		else {
		$(tmp).prev().addClass("active");
		}
		});

		$('#right').click(function(){
		var tmp = $(".active");
		$(tmp).removeClass("active");
		if($(tmp).is(':last-child')) {
		$("#first").addClass("active");
		}
		else {
		$(tmp).next().addClass("active");
		}
		});

		});
	</script>
		<!-- 등록 버튼 자바스크립트 -->
	<script type="text/javascript" th:inline="javascript">
		$('#addFeedBtn').click(function() {

			var isSubmit = true;
			var inputObj = $('#addFeedForm').find('input');

			$.each(inputObj, function() {
				var inputId = $(this).attr('id');
				var inputLabel = $('label[for="' + inputId + '"]').text();
				var inputData = $(this).val();

				// 사용자가 입력하지 않은 경우
			});

			if (isSubmit)
				$('#addFeedForm').submit();
		});
	</script>
</th:block>
</html>