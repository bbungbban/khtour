<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default}">
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="contentsTitle">
	<div class="row">
		<div class="col">
			<h2>객실정보 상세관리</h2>
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="#">Home</a></li>
					<li class="breadcrumb-item active" aria-current="page">객실정보
						상세관리</li>
				</ol>
			</nav>
		</div>
	</div>
</th:block>
<th:block layout:fragment="customContents">
	<style>
.blog-info {
	height: 200px;
}

.form-control {
	margin-top: 1rem !important;

}

.roomSummary {
	font-size: 1rem;
}

.roomPersonnel {
	font-size: 0.8rem;
	opacity: 0.5;
}

.roomCheckIn {
	font-size: 1rem;
}

.price {
	font-size: 20px;
}

.discount {
	color: red;
}

.feather {
	color: #f0f1f6;
	font-size: 20px;
}

.card .card-footer {
	padding: 0.5rem 0;
}

.star {
	font-size: 1.0rem;
	line-height: 1.5rem;
	display: flex;
	align-items: center;
	justify-content: flex-end;
}

.ReviewContentsBox {
	display: flex;
	position: relative;
	align-items: center;
}

.ReviewIcon {
	width: 3.8rem;
	height: 3.8rem;
	display: inline-block;
	margin-right: 1.4rem;
	background-repeat: no-repeat;
	background-size: contain;
}

.ReviewRoomName::before {
	content: "|";
	border: none;
	border-right: 1px;
	height: 1rem;
	margin: 0 0.6rem;
	display: inline-block;
}

.ReviewContentsBox-ReviewContent {
	font-size: 1.5rem;
	line-height: 2.2rem;
	max-height: 8.8rem;
	overflow: hidden;
	position: relative;
	color: #616161;
	white-space: pre-wrap;
	word-break: break-all;
	padding-left: 18.577px;
	padding-bottom: 18.577px;
}
</style>
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-body">
					<form class="roomform">
					<!-- 호텔 대표 이미지 등록 -->
					<div class="embed-responsive embed-responsive-16by9">
						<img class="embed-responsive-item"
							th:src="@{/images/aco/sinlastayBusan1.png}" alt="">
					</div>
					<!-- 호텔 대표 이미지 끝 -->
					<p style="margin-top: 1rem;" th:text="${accommodation.ldgType}"></p>
					<h2 th:text="${accommodation.ldgName}"></h2>
					<div class="">
						<span class=""><i class="feather icon-star-on"></i></span><span
							class="">4.7</span> <span class="">/5</span>
					</div>
					<span class=""> 후기 <b>1,600</b> 개
					</span>
					<!-- 호텔 기본 정보 및 리뷰 끝 -->
					<div class="card-footer"></div>
					<div class="row" th:if="${not #lists.isEmpty(roomList)}" th:each="r,index: ${roomList}">
						<!-- 호텔 객실 세부 내역 -->
						<div class="col-1" style="margin: 100px 0px;">
							<input type="checkbox">
						</div>
						<div class="col-10 col-md-10 col-lg-4" style="cursor: pointer;"
							onclick="location.href='roomPayment';">
						<div class="embed-responsive embed-responsive-4by3">
							<img
								th:src="@{${#strings.isEmpty(r.roomImagePath) ? '/images/heritage/서울 숭례문.jpg': '/' + #strings.replace(r.roomImagePath,'\','/')}}"
								class="card-img-top h-20 embed-responsive-item" alt="...">
						</div>
						</div>
						<div class="col-12 col-md-12 col-lg-7" style="cursor: pointer;"
							onclick="location.href='accommodationInfo';">
							<div class="">
								<h3 class="roomName" th:text="${r.roomName}"></h3>
							</div>
							<h4 class="roomSummary" th:text="${r.roomExplain}"></h4>
							<h5 class="roomPersonnel" th:text="${r.roomPersonnel}"></h5>
							<div class="" style="margin-top: 1.5rem;">
								<h4 style="display: inline;" th:text="${r.roomType}"></h4>
								<span id="checkInTime"
									style="margin-top: 0.3rem; opacity: 0.5; display: inline;" th:text="${r.roomCheckin}"></span>
								<span id="roomPrice"
									style="float: right; margin-top: 0.3rem; opacity: 0.5; padding-right: 30px;" th:text="${r.roomPrice}"></span>
							</div>
							<div class="" style="float: right; padding-right: 30px;">
								판매가</div>
							<div class="col-12"
								style="text-align: right; float: right; padding-right: 30px;">
								<span class="discount" th:text="${r.roomDiscount}" style="font-size: 20px;">
								</span>
								<span class="finalprice" th:text="${r.roomFinalPrice}" style="font-size: 20px;">
								</span>
							</div>
						</div>
					</div>
					<!-- 호텔 객실 세부 내역 끝 -->
					<div class="card-footer"></div>
					<!-- 객실 정보 및 지도 -->
					<h2>숙소 소개</h2>
					<div>
						<p style="font-size: 15px;"th:text="${accommodation.ldgExplain1}"></p>
					</div>
					<div>
						<p style="font-size: 15px;"th:text="${accommodation.ldgExplain2}"></p>
					</div>
					<div>
						<p style="font-size: 15px;"th:text="${accommodation.ldgExplain3}"></p>
					</div>
					<div>
						<p style="font-size: 15px;"th:text="${accommodation.ldgExplain4}"></p>
					</div>
					<div class="card-footer"></div>
					<h2>위치 안내</h2>
					<div>
						<div id="map" style="width: 100%; height: 350px;"></div>
						<p style="font-size: 15px; display: inline;">
							<i class="feather icon-map-pin" style="color: blue;"><span class="addr" style="color: black; font-size: 15px;" th:text="${accommodation.ldgAddr}"></span></i>
						</p>
						<span style="display: inline; float: right; font-size: 15px;"><a
							type="button" id="copy_btn">주소복사</a></span>
					</div>
					<div class="card-footer"></div>
					<!-- 객실 정보 및 지도 끝 -->
					<div class="text-center">
						<!-- <button type="button" class="btn btn-primary"
							style="margin: auto; display: block;" th:href="@{/room/roomInsert(ldgCode=${accommodation.ldgCode})}">객실신규등록</button> -->
							<a role="button" class="btn btn-primary" th:href="@{/room/roomInsert(ldgCode=${accommodation.ldgCode},ldgName=${accommodation.ldgName})}">객실신규등록</a>
					</div>
					</form>
				</div>
			</div>
		</div>
		<!-- 호텔에 대한 리뷰 표시 영역 -->
		<div class="roomInfo col-lg-12 col-md-12 col-sm-12">
			<div class="card">
				<div class="card-body" style="padding-bottom: 0;">
					<div>
						<h2 style="display: inline; float: left;">후기</h2>
						<span style="display: inline-block; float: left; font-size: 20px;">(1,600개)</span>
						<div class="col-12 col-md-12"></div>
					</div>
				</div>
				<div style="display: flex; justify-content: space-between;">
					<div class="col-6 col-md-4 col-lg-4"
						style="padding: 18.577px; padding-right: 0; padding-bottom: 0;">
						<span><i class="feather icon-star-on"
							style="font-size: 30px;"></i></span> <span style="font-size: 40px;">4.7</span>
						<span style="opacity: 0.5; font-size: 20px;">/5</span>
						<p style="opacity: 0.5;">최근 12개월 누적 평점</p>
					</div>
					<div class="col-6 col-md-8 col-lg-8"
						style="float: right; padding-left: 0;">
						<ul style="list-style: none; padding-left: 0px;">
							<li class="star"><span style="padding-right: 0.5rem;">청결도</span>
								<div class="progress progress-h-5" style="width: 5rem;">
									<div class="progress-bar" role="progressbar"
										style="width: 75%; background-color: #FFB900;"
										aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
								</div> <span style="padding-left: 0.5rem;">4.8</span></li>
							<li class="star"><span style="padding-right: 0.5rem;">친절도</span>
								<div class="progress progress-h-5" style="width: 5rem;">
									<div class="progress-bar" role="progressbar"
										style="width: 75%; background-color: #FFB900;"
										aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
								</div> <span style="padding-left: 0.5rem;">4.8</span></li>
							<li class="star"><span style="padding-right: 0.5rem;">편의성</span>
								<div class="progress progress-h-5" style="width: 5rem;">
									<div class="progress-bar" role="progressbar"
										style="width: 75%; background-color: #FFB900;"
										aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
								</div> <span style="padding-left: 0.5rem;">4.8</span></li>
							<li class="star"><span style="padding-right: 0.5rem;">위치만족도</span>
								<div class="progress progress-h-5" style="width: 5rem;">
									<div class="progress-bar" role="progressbar"
										style="width: 75%; background-color: #FFB900;"
										aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
								</div> <span style="padding-left: 0.5rem;">4.8</span></li>
							<li class="star"><span style="padding-right: 0.5rem;">가격만족도</span>
								<div class="progress progress-h-5" style="width: 5rem;">
									<div class="progress-bar" role="progressbar"
										style="width: 75%; background-color: #FFB900;"
										aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
								</div> <span style="padding-left: 0.5rem;">4.8</span></li>
						</ul>
					</div>
				</div>
				<div class="card-footer"></div>
				<article class="ReviewBox" th:if="${not #lists.isEmpty(accomoReviewList)}" th:each="al,index: ${accomoReviewList}">
					<div class="ReviewContentsBox" style="padding: 18.577px;">
						<span class="ReviewIcon"><i class="fa fa-smile-o"
							style="font-size: 50px; color: #FFB900;"></i></span>
						<div class="ReviewHeader">
							<div class="rating" style="position: relative; display: inline-flex;" data-rate="${al.ldgGrade}" >
								<i class="feather icon-star-on" style="font-size: 1.2rem;"></i>
								<i class="feather icon-star-on" style="font-size: 1.2rem;"></i>
								<i class="feather icon-star-on" style="font-size: 1.2rem;"></i>
								<i class="feather icon-star-on" style="font-size: 1.2rem;"></i>
								<i class="feather icon-star-on" style="font-size: 1.2rem;"></i>
							</div>
							<div class="ReviewTime"
								style="display: inline-block; font-size: 1.2rem;">
								<span style="font-weight: 100; margin-left: 0.8rem;"></span> <span
									style="position: absolute; right: 0; line-height: 1.8rem; padding-right: 15px; font-size: 13px; opacity: 0.5;">16시간
									전</span>
							</div>
							<div class="ReviewNicknameInfo" style="opacity: 0.5;">
							<span>닉네임 입니다.</span>
							<span class="ReviewRoomName" th:text="${accommodation.ldgName}"></span>
							</div>
						</div>
					</div>
						<div class="ReviewContentsBox-ReviewContent"><p th:text="${al.reviewContents}"></p></div>
					<div class="card-footer"></div>
				</article>
					<section
						style="padding: 20px; text-align: center; font-size: 20px; color: blue;">
						<a th:href="@{/accomreview/accomreviewList(ldgCode=${accommodation.ldgCode})}">전체 후기 보기</a>
					</section>
			</div>
		</div>
		<!-- 호텔 리뷰 표시 영역 끝 -->
	</div>
	
</th:block>
<th:block layout:fragment="customBodyScript">
	<!-- PRISM -->
	<script th:src="@{/js/prism/prism.js}"></script>
	<!-- custom -->
	<script th:src="@{/js/custom.js}"></script>
	<!-- 지도API 스크립트  -->
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=7cec08e17fcfb480dd452f2d9dd9df4c"></script>
	<script>
		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		mapOption = {
			center : new kakao.maps.LatLng(35.15979674782372,
					129.15873069031613), // 지도의 중심좌표
			level : 3
		// 지도의 확대 레벨
		};

		var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

		// 마커가 표시될 위치입니다 
		var markerPosition = new kakao.maps.LatLng(35.15979674782372,
				129.15873069031613);

		// 마커를 생성합니다
		var marker = new kakao.maps.Marker({
			position : markerPosition
		});

		// 마커가 지도 위에 표시되도록 설정합니다
		marker.setMap(map);

		// 아래 코드는 지도 위의 마커를 제거하는 코드입니다
		// marker.setMap(null);
	</script>
	<!-- 클립보드 복사 script -->
	<script>
		$(function() {
			$('#copy_btn').click(function() {
				var pAddr = document.getElementById('addr'); //복사할 텍스트를 선택
				var range = document.createRange();
				console.log($(pAddr));

				range.selectNode(pAddr.childNodes[0]);
				var selectP = window.getSelection();
				selectP.removeAllRanges();
				selectP.addRange(range);
				document.execCommand("copy"); //클립보드 복사 실행
				selectP.removeRange(range);
				alert('주소가 복사 됐어요!');

			})
		})
	</script>
</th:block>
</html>