<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{layout/default2}">
<th:block layout:fragment="customTitle">
   <title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="contentsTitle">
	<div class="row">
		<div class="col">
			<h2>전체 회원 정보</h2>
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="#">Home</a></li>
					<li class="breadcrumb-item active" aria-current="page">회원 정보 검색 및 전체 리스트</li>
				</ol>
			</nav>
		</div>
	</div>
	
</th:block>

<th:block layout:fragment="customContents">
	<link rel="stylesheet" type="text/css"
		th:href="@{/js/datatables/buttons.dataTables.min.css}">
	<link rel="stylesheet" type="text/css"
		th:href="@{/js/datatables/select.bootstrap4.min.css}">
	<link rel="stylesheet" type="text/css"
		th:href="@{/js/datatables/fixedColumns.bootstrap4.min.css}">
	<link rel="stylesheet" type="text/css"
		th:href="@{/css/plugins/KmyCss/addCssKmy.css}">
	
<form id="removeForm" th:action="@{/member/memberList}" method="post">
   <div id="memberList">
		<!-- **********************************  Start ContentsWrap  ********************************** -->
		<div class="row">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-body">
						<div class="table-responsive">
							<table id="table-selected"
								class="table table-striped table-bordered">
								<thead>
									<tr>
										<th>아이디</th>
                             			<th>경험치 등급</th>
                              			<th>포인트 누적 총합</th>
                              			<th>포인트 사용액</th>
                              			<th>사용 가능 포인트</th>
                              			<th>회원상태 관리</th>
                              			<th>등급</th>
                              			<th>사용자 이름</th>
                              			<th>연락처</th>
                              			<th>생년월일</th>
                              			<th>이메일</th>
                              			<th>등록일자</th>
                              			<th>국적</th>
										<th>삭제</th>
                              		</tr>
								</thead>
								<tbody>
									<tr th:if="${not #lists.isEmpty(memberList)}" th:each="l : ${memberList}">
										<td th:text="${l.memberId}"></td>
										<td th:text="${l.memberPointLevel}"></td>
										<td th:text="${l.memberTotalPointCode}"></td>
										<td th:text="${l.memberTotalPointUsed}"></td>
										<td th:text="${l.memberUsablePoint}"></td>
										<td th:text="${l.memberStatus}"></td>
										<td th:text="${l.memberLevel}"></td>
										<td th:text="${l.memberName}"></td>
										<td th:text="${l.memberContact}"></td>
										<td th:text="${l.memberBirthday}"></td>
										<td th:text="${l.memberEmail}"></td>
										<td th:text="${l.memberRegTime}"></td>
										<td th:text="${l.memberCountry}"></td>
										<td>
											<button type="button" class="btn btn-danger btn-icon btn-sm mb-1"
												data-toggle="modal" data-target="#exampleModal-11" id="removeBtn">
												<i class="fa fa-trash-o"></i>
											</button> 
											<!-- Modal -->
											<div class="modal fade" id="exampleModal-11" tabindex="-1"
												role="dialog" aria-labelledby="exampleModalLabel"
												aria-hidden="true">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header bg-danger">
															<h5 class="modal-title text-white" id="exampleModalLabel">정말 삭제하시겠습니까?</h5>
															<button type="button" class="close" data-dismiss="modal"
																aria-label="Close">
																<span class="text-white" aria-hidden="true">&times;</span>
															</button>
														</div>
														<div class="modal-body">
															<p>삭제 후 복구할 수 없습니다. 정말로 삭제하시겠습니까?
														</div>
														<div class="modal-footer">
															<button type="button" class="btn btn-light"
																data-dismiss="modal">예</button>
															<button type="button" class="btn btn-light"
																data-dismiss="modal">아니오</button>
														</div>
													</div>
												</div>
											</div>
										</td>
									</tr>
								</tbody>
								<tfoot>
									<tr>
										<th>아이디</th>
                             			<th>경험치 등급</th>
                              			<th>포인트 누적 총합</th>
                              			<th>포인트 사용액</th>
                              			<th>사용 가능 포인트</th>
                              			<th>회원상태 관리</th>
                              			<th>등급</th>
                              			<th>사용자 이름</th>
                              			<th>연락처</th>
                              			<th>생년월일</th>
                              			<th>이메일</th>
                              			<th>등록일자</th>
                              			<th>국적</th>
                              			<th>삭제</th>
									</tr>
								</tfoot>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- **********************************  End ContentsWrap  ********************************** -->
	</div>
</form>
</th:block>
<th:block layout:fragment="customBodyScript">
	<!-- datatables -->
	<script th:src="@{/js/datatables/datatables.js}"></script>
	<!-- <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js}"></script> -->
	<script th:src="@{/js/datatables/dataTables.buttons.min.js}"></script>
	<script th:src="@{/js/datatables/buttons.flash.min.js}"></script>
	<script th:src="@{/js/datatables/jszip.min.js}"></script>
	<script th:src="@{/js/datatables/pdfmake.min.js}"></script>
	<script th:src="@{/js/datatables/vfs_fonts.js}"></script>
	<script th:src="@{/js/datatables/buttons.html5.min.js}"></script>
	<script th:src="@{/js/datatables/buttons.print.min.js}"></script>
	<!-- fixedHeader -->
	<script th:src="@{/js/datatables/dataTables.fixedHeader.min.js}"></script>
	<!-- dataTables select -->
	<script th:src="@{/js/datatables/dataTables.select.min.js}"></script>
	<!-- dataTables.fixedColumns.min -->
	<script th:src="@{/js/datatables/dataTables.fixedColumns.min.js}"></script>
	<!-- dataTables.rowGroup.min -->
	<script th:src="@{/js/datatables/dataTables.rowGroup.min.js}"></script>
	<!-- custom -->
	<script th:src="@{/js/custom.js}"></script>
	<script>
			$(function(){
				$('#removeBtn').click(function(){
					var confirmResult = confirm('정말로 삭제하시겠습니까?');
					
					if(confirmResult){
						$('#removeForm').submit();
					}
				});
			});
		</script>
</th:block>
</html>