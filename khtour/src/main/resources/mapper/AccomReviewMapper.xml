<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ksmart42.khtour.mapper.AccomReviewMapper">

	<resultMap type="AccomReview" id="accomReviewResultMap">
		<id column="ldg_review_code"  		property="ldgReviewCode"/>
		<result column="member_id"			property="memberId"/>
		<result column="ldg_code" 			property="ldgCode"/>
		<result column="ldg_grade" 			property="ldgGrade"/>
		<result column="ldg_cleanliness" 	property="ldgCleanliness"/>
		<result column="ldg_kindness" 		property="ldgKindness"/>
		<result column="ldg_convenience" 	property="ldgConvenience"/>
		<result column="ldg_location" 		property="ldgLocation"/>
		<result column="ldg_price_sta" 		property="ldgPriceSta"/>
		<result column="review_contents" 	property="reviewContents"/>
		<result column="review_time" 		property="reviewTime"/>
	</resultMap>
	


<!-- ldgCode에 따른 리뷰조회 SQL -->
<select id="getAccomReviewList"  resultMap="accomReviewResultMap">
		SELECT
		  	r.ldg_review_code
		   ,r.member_id
		   ,r.ldg_code
		   ,r.ldg_grade  
		   ,r.ldg_cleanliness    
		   ,r.ldg_kindness
		   ,r.ldg_convenience   
		   ,r.ldg_location   
		   ,r.ldg_price_sta    
		   ,r.review_contents    
		   ,r.review_time    
		FROM
		  tb_ldg_review AS r
		WHERE
		  ldg_code = #{ldgCode};
</select>

<!-- 
<insert id="addAccomReview" parameterType="AccomReview">
		INSERT INTO
			tb_ldg_review
			( ldg_review_code
			 ,member_id
			 ,ldg_code
			 ,ldg_grade
			 ,ldg_cleanliness
			 ,ldg_kindness
			 ,ldg_convenience
			 ,ldg_location
			 ,ldg_price_sta
			 ,review_contents
			 ,review_time
		)VALUES (
			sf_ldg_review_code()
			,#{memberId}
			,#{ldgCode}
			,#{ldgGrade}
			,#{ldgCleanliness}
			,#{ldgKindness}
			,#{ldgConvenience}
			,#{ldgLocation}
			,#{ldgPriceSta}
			,#{reviewContents}
			,#{reviewTime}
		);
</insert> -->

</mapper>